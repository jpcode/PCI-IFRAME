<html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Sdkpay</title>
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <script src="http://localhost:70/sdk-payments/sdkpay.js"></script>
</head>

<body>

  <form id="payment-form" accept-charset="UTF-8" class="sdkpay-form" method="POST" action="#" onsubmit="submitPaymentForm(); return false;">

    <input type="hidden" name="payment_method_token" id="payment_method_token" value="">
    <fieldset class="sdkpay-fs-cc">
      <div class="sdkpay-field">
        <label class="sdkpay-field-group sdkpay-number">Credit Card Number</label>
        <label class="sdkpay-field-group sdkpay-verification_value">ZIP</label>
        <div id="spreedly-number-test" class="sdkpay-field-group sdkpay-number sdkpay-field-cc">
        <iframe frameborder="0" width="100%" height="100%" scrolling="no" id="spreedly-number-frame-1001" name="spreedly-number-frame-1001" src="http://localhost:70/ccn/ccn.html"></iframe></div>
        <div id="spreedly-cvv-test" class="sdkpay-field-group sdkpay-verification_value sdkpay-field-cc">
        <iframe frameborder="0" width="100%" height="100%" scrolling="no" id="spreedly-cvv-frame-1001" name="spreedly-cvv-frame-1001" src="http://localhost:70/cvv/cvv.html"></iframe></div>
      </div>
    </fieldset>

    <fieldset class="sdkpay-field-submit">
      <input type="submit" class="button" value="Submit Payment">
      <div id="message"></div>
      <div id="errors"></div>
    </fieldset>

    <script id="spreedly-iframe" data-environment-key="TbWAYgG7qaagGBh7hPjXQxS4DM4" data-number-id="spreedly-number-test" data-cvv-id="spreedly-cvv-test">
    </script>
  </form>

  <script>
  Sdkpay.init();
  Sdkpay.ready = function(){
      //you can use this for setting some styles to iframes
      console.log('ready to use' );
      Sdkpay.setStyle('number','width: 67%; border-radius: 3px; border: 1px solid #ccc; padding: .65em .5em; font-size: 91%;');
      Sdkpay.setStyle('cvv', 'width: 30%; border-radius: 3px; border: 1px solid #ccc; padding: .65em .5em; font-size: 91%;');
  }

  Sdkpay.paymentMethod = function( token, data ){
     console.log("on payment method");
  }

  Sdkpay.error = function( errors ){
    console.log("errors");
  }

  function submitPaymentForm() {

      var normalBorder = "1px solid #ccc";

      var paymentMethodFields = [];
      options = {};
      for(var i = 0; i < paymentMethodFields.length; i++) {
        var field = paymentMethodFields[i];

        // Reset existing styles (to clear previous errors)
        var fieldEl = document.getElementById(field);
        fieldEl.style.border = normalBorder;

        // add value to options
        options[field]  = fieldEl.value
      }

      // Reset frame styles
      Sdkpay.setStyle('number', "border: " + normalBorder + ";");
      Sdkpay.setStyle('cvv', "border: " + normalBorder + ";");

      // Reset previous messages
      document.getElementById('errors').innerHTML = "";
      document.getElementById('message').innerHTML = "";

      // Tokenize!
      Sdkpay.tokenizeCreditCard();
    }

  </script>
</body>
</html>